
# μ¤ν”„λ§ λ¶€νΈ - μ¤λ¥ νμ΄μ§€2

### BasicErrorController μ κ³µ κΈ°λ³Έ μ •λ³΄λ“¤

BasicErrorController μ»¨νΈλ΅¤λ¬λ” λ‹¤μ μ •λ³΄λ¥Ό modelμ— λ‹΄μ•„μ„ λ·°μ— μ „λ‹¬ν•λ‹¤. λ·° ν…ν”λ¦Ώμ€ μ΄ κ°’μ„ ν™μ©ν•΄μ„
μ¶λ ¥ν•  μ μλ‹¤.

```text
* timestamp: Fri Feb 05 00:00:00 KST 2021
* status: 400
* error: Bad Request
* exception: org.springframework.validation.BindException
* trace: μμ™Έ trace
* message: Validation failed for object='data'. Error count: 1
* errors: Errors(BindingResult)
* path: ν΄λΌμ΄μ–ΈνΈ μ”μ²­ κ²½λ΅ (`/hello`)
```

μ¤λ¥ μ •λ³΄ μ¶”κ°€ - resources/templates/error/500.html
```html
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head> <meta charset="utf-8">
</head>
<body>
<div class="container" style="max-width: 600px">
 <div class="py-5 text-center">
 <h2>500 μ¤λ¥ ν™”λ©΄ μ¤ν”„λ§ λ¶€νΈ μ κ³µ</h2>
 </div>
 <div>
 <p>μ¤λ¥ ν™”λ©΄ μ…λ‹λ‹¤.</p>
 </div>
 <ul>
    <li>μ¤λ¥ μ •λ³΄</li>
       <ul>
          <li th:text="|timestamp: ${timestamp}|"></li>
          <li th:text="|path: ${path}|"></li>
          <li th:text="|status: ${status}|"></li>
          <li th:text="|message: ${message}|"></li>
          <li th:text="|error: ${error}|"></li>
          <li th:text="|exception: ${exception}|"></li>
          <li th:text="|errors: ${errors}|"></li>
          <li th:text="|trace: ${trace}|"></li>
       </ul>
    </li>
 </ul>
 <hr class="my-4">
</div> <!-- /container -->
</body>
</html>
```

- μ¤λ¥ κ΄€λ ¨ λ‚΄λ¶€ μ •λ³΄λ“¤μ„ κ³ κ°μ—κ² λ…Έμ¶ν•λ” κ²ƒμ€ μΆ‹μ§€ μ•λ‹¤
- κ³ κ°μ΄ ν•΄λ‹Ή μ •λ³΄λ¥Ό μ½μ–΄λ„ νΌλ€λ§ λ”ν•΄μ§€κ³ , λ³΄μ•μƒ λ¬Έμ κ°€ λ  μλ„ μλ‹¤.
- κ·Έλμ„ BasicErrorController μ¤λ¥ μ»¨νΈλ΅¤λ¬μ—μ„ λ‹¤μ μ¤λ¥ μ •λ³΄λ¥Ό model μ— ν¬ν•¨ν• μ§€ μ—¬λ¶€ μ„ νƒν•  μ μλ‹¤.

application.properties
- server.error.include-exception=false : exception ν¬ν•¨ μ—¬λ¶€(true, false)
- server.error.include-message=never : message ν¬ν•¨ μ—¬λ¶€
- server.error.include-stacktrace=never : trace ν¬ν•¨ μ—¬λ¶€
- server.error.include-binding-errors=never : errors ν¬ν•¨ μ—¬λ¶€

application.properties
```text
server.error.include-exception=true
server.error.include-message=on_param
server.error.include-stacktrace=on_param
server.error.include-binding-errors=on_param
```
κΈ°λ³Έ κ°’μ΄ never μΈ λ¶€λ¶„μ€ λ‹¤μ 3κ°€μ§€ μµμ…μ„ μ‚¬μ©ν•  μ μλ‹¤.
- never : μ‚¬μ©ν•μ§€ μ•μ
- always :ν•­μƒ μ‚¬μ©
- on_param : νλΌλ―Έν„°κ°€ μμ„ λ• μ‚¬μ©

- on_param μ€ νλΌλ―Έν„°κ°€ μμΌλ©΄ ν•΄λ‹Ή μ •λ³΄λ¥Ό λ…Έμ¶ν•λ‹¤. λ””λ²„κ·Έ μ‹ λ¬Έμ λ¥Ό ν™•μΈν•κΈ° μ„ν•΄ μ‚¬μ©ν•  μ μλ‹¤.
- κ·Έλ°λ° μ΄ λ¶€λ¶„λ„ κ°λ° μ„λ²„μ—μ„ μ‚¬μ©ν•  μ μμ§€λ§, μ΄μ μ„λ²„μ—μ„λ” κ¶μ¥ν•μ§€ μ•λ”λ‹¤.
- on_param μΌλ΅ μ„¤μ •ν•κ³  λ‹¤μκ³Ό κ°™μ΄ HTTP μ”μ²­μ‹ νλΌλ―Έν„°λ¥Ό μ „λ‹¬ν•λ©΄ ν•΄λ‹Ή μ •λ³΄λ“¤μ΄ 
  modelμ— λ‹΄κ²¨μ„ λ·° ν…ν”λ¦Ώμ—μ„ μ¶λ ¥λλ‹¤.
- ```message=&errors=&trace=```


μ‹¤λ¬΄μ—μ„λ” μ΄κ²ƒλ“¤μ„ λ…Έμ¶ν•λ©΄ μ•λλ‹¤! μ‚¬μ©μμ—κ²λ” μ΄μ μ¤λ¥ ν™”λ©΄κ³Ό κ³ κ°μ΄ μ΄ν•΄ν•  μ μλ” κ°„λ‹¨ν• μ¤λ¥ λ©”μ‹μ§€λ¥Ό λ³΄
μ—¬μ£Όκ³  μ¤λ¥λ” μ„λ²„μ— λ΅κ·Έλ΅ λ‚¨κ²¨μ„ λ΅κ·Έλ΅ ν™•μΈν•΄μ•Ό ν•λ‹¤.

μ¤ν”„λ§ λ¶€νΈ μ¤λ¥ κ΄€λ ¨ μµμ…
- server.error.whitelabel.enabled=true : μ¤λ¥ μ²λ¦¬ ν™”λ©΄μ„ λ» μ°Ύμ„ μ‹, 
  μ¤ν”„λ§ whitelabel μ¤λ¥ νμ΄μ§€ μ μ©
- server.error.path=/error : μ¤λ¥ νμ΄μ§€ κ²½λ΅, μ¤ν”„λ§μ΄ μλ™ λ“±λ΅ν•λ” μ„λΈ”λ¦Ώ κΈ€λ΅λ² 
  μ¤λ¥ νμ΄μ§€ κ²½λ΅μ™€ BasicErrorController μ¤λ¥ μ»¨νΈλ΅¤λ¬ κ²½λ΅μ— ν•¨κ» μ‚¬μ©λλ‹¤.

  
ν™•μ¥ ν¬μΈνΈ
- μ—λ¬ κ³µν†µ μ²λ¦¬ μ»¨νΈλ΅¤λ¬μ κΈ°λ¥μ„ λ³€κ²½ν•κ³  μ‹¶μΌλ©΄ ErrorController μΈν„°νμ΄μ¤λ¥Ό μƒμ† λ°›μ•„μ„ κµ¬ν„ν•κ±°λ‚
  BasicErrorController μƒμ† λ°›μ•„μ„ κΈ°λ¥μ„ μ¶”κ°€ν•λ©΄ λλ‹¤

π’―μ •λ¦¬
- μ¤ν”„λ§ λ¶€νΈκ°€ κΈ°λ³ΈμΌλ΅ μ κ³µν•λ” μ¤λ¥ νμ΄μ§€λ¥Ό ν™μ©ν•λ©΄ μ¤λ¥ νμ΄μ§€μ™€ κ΄€λ ¨λ λ€λ¶€λ¶„μ λ¬Έμ λ” μ†μ‰½κ² ν•΄κ²°ν•  μ μ
  λ‹¤.