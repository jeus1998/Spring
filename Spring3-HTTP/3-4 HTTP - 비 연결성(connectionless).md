
# HTTP - 비 연결성(connectionless)

- 연결을 유지하는 모델
  - 서버는 클라이언트와 연결을 계속 유지 ➡️ 서버: 자원 계속 소모
- 연결 유지하지 않는 모델 
  - 서버는 클라이언트와 연결 유지 ❌ ➡️ 서버: 최소한의 자원 유지 

### 비 연결성 

- HTTP는 기본이 연결을 유지하지 않는 모델
- 일반적으로 초 단위의 이하의 빠른 속도로 응답
- 1시간 동안 수천명이 서비스를 사용해도 실제 서버에서 동시에 처리하는 요청은 수십개 이
  하로 매우 작음
  - 예) 웹 브라우저에서 계속 연속해서 검색 버튼을 누르지는 않는다
- 서버 자원을 매우 효율적으로 사용할 수 있음

### 비 연결성 한계와 극복 

- TCP/IP 연결을 새로 맺어야 함 - 3 way handshake 시간 추가
- 웹 브라우저로 사이트를 요청하면 HTML 뿐만 아니라 자바스크립트, css, 추가 이미지 등
  등 수 많은 자원이 함께 다운로드
- 지금은 HTTP 지속 연결(Persistent Connections)로 문제 해결
- HTTP/2, HTTP/3에서 더 많은 최적화

![24.JPG](%EC%9D%B4%EB%AF%B8%EC%A7%80%2F24.JPG)

![25.JPG](%EC%9D%B4%EB%AF%B8%EC%A7%80%2F25.JPG)


### 나의 궁금증

- HTTP 프로토콜은 결국 TCP/IP든 UDP든 전송 계층의 프로토콜 위에서 동작을 한다. 
- 그렇다면 웹 애플리케이션에 채팅을 하는 기능이 있다고 하면 어떻게 동작을 할까?
- @로그인: HTTP 요청으로  3-way handshake 이후 HTTP 특성에 맞게 응답을 하면 connection을 끊는다.
- 로그인 이후 채팅: WebSocket 통신 관련 요청이면 3-way handshake 이후 connection을 끊지 않고 유지한다. 
  - 초기 HTTP 핸드셰이크가 성공하면 HTTP 연결이 WebSocket 연결으로 업그레이드 ➡️ 연결 지속 


